!function(e,t,o){e.fn.backstretch=function(a,i){return(a===o||0===a.length)&&e.error("No images were supplied for Backstretch"),0===e(t).scrollTop()&&t.scrollTo(0,0),this.each(function(){var t=e(this),o=t.data("backstretch");if(o){if("string"==typeof a&&"function"==typeof o[a])return o[a](i),void 0;i=e.extend(o.options,i),o.destroy(!0)}o=new n(this,a,i),t.data("backstretch",o)})},e.backstretch=function(t,o){return e("body").backstretch(t,o).data("backstretch")},e.expr[":"].backstretch=function(t){return e(t).data("backstretch")!==o},e.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var a={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},i={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},n=function(o,i,n){this.options=e.extend({},e.fn.backstretch.defaults,n||{}),this.images=e.isArray(i)?i:[i],e.each(this.images,function(){e("<img />")[0].src=this}),this.isBody=o===document.body,this.$container=e(o),this.$root=this.isBody?s?e(t):e(document):this.$container,o=this.$container.children(".backstretch").first(),this.$wrap=o.length?o:e('<div class="backstretch"></div>').css(a).appendTo(this.$container),this.isBody||(o=this.$container.css("position"),i=this.$container.css("zIndex"),this.$container.css({position:"static"===o?"relative":o,zIndex:"auto"===i?0:i,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&s?"fixed":"absolute"}),this.index=0,this.show(this.index),e(t).on("resize.backstretch",e.proxy(this.resize,this)).on("orientationchange.backstretch",e.proxy(function(){this.isBody&&0===t.pageYOffset&&(t.scrollTo(0,1),this.resize())},this))};n.prototype={resize:function(){try{var e,o={left:0,top:0},a=this.isBody?this.$root.width():this.$root.innerWidth(),i=a,n=this.isBody?t.innerHeight?t.innerHeight:this.$root.height():this.$root.innerHeight(),s=i/this.$img.data("ratio");s>=n?(e=(s-n)/2,this.options.centeredY&&(o.top="-"+e+"px")):(s=n,i=s*this.$img.data("ratio"),e=(i-a)/2,this.options.centeredX&&(o.left="-"+e+"px")),this.$wrap.css({width:a,height:n}).find("img:not(.deleteable)").css({width:i,height:s}).css(o)}catch(r){}return this},show:function(t){if(!(Math.abs(t)>this.images.length-1)){var o=this,a=o.$wrap.find("img").addClass("deleteable"),n={relatedTarget:o.$container[0]};return o.$container.trigger(e.Event("backstretch.before",n),[o,t]),this.index=t,clearInterval(o.interval),o.$img=e("<img />").css(i).bind("load",function(i){var s=this.width||e(i.target).width();i=this.height||e(i.target).height(),e(this).data("ratio",s/i),e(this).fadeIn(o.options.speed||o.options.fade,function(){a.remove(),o.paused||o.cycle(),e(["after","show"]).each(function(){o.$container.trigger(e.Event("backstretch."+this,n),[o,t])})}),o.resize()}).appendTo(o.$wrap),o.$img.attr("src",o.images[t]),o}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(e.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(o){e(t).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),o||this.$wrap.remove(),this.$container.removeData("backstretch")}};var s,r=navigator.userAgent,c=navigator.platform,d=r.match(/AppleWebKit\/([0-9]+)/),d=!!d&&d[1],l=r.match(/Fennec\/([0-9]+)/),l=!!l&&l[1],p=r.match(/Opera Mobi\/([0-9]+)/),h=!!p&&p[1],u=r.match(/MSIE ([0-9]+)/),u=!!u&&u[1];s=!((-1<c.indexOf("iPhone")||-1<c.indexOf("iPad")||-1<c.indexOf("iPod"))&&d&&534>d||t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini)||p&&7458>h||-1<r.indexOf("Android")&&d&&533>d||l&&6>l||"palmGetResource"in t&&d&&534>d||-1<r.indexOf("MeeGo")&&-1<r.indexOf("NokiaBrowser/8.5.0")||u&&6>=u)}(jQuery,window),function(e){function t(){}function o(e){function o(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function i(t,o){e.fn[t]=function(i){if("string"==typeof i){for(var s=a.call(arguments,1),r=0,c=this.length;c>r;r++){var d=this[r],l=e.data(d,t);if(l)if(e.isFunction(l[i])&&"_"!==i.charAt(0)){var p=l[i].apply(l,s);if(void 0!==p)return p}else n("no such method '"+i+"' for "+t+" instance");else n("cannot call methods on "+t+" prior to initialization; "+"attempted to call '"+i+"'")}return this}return this.each(function(){var a=e.data(this,t);a?(a.option(i),a._init()):(a=new o(this,i),e.data(this,t,a))})}}if(e){var n="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){o(t),i(e,t)},e.bridget}}var a=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],o):o(e.jQuery)}(window),function(e){function t(t){var o=e.event;return o.target=o.target||o.srcElement||t,o}var o=document.documentElement,a=function(){};o.addEventListener?a=function(e,t,o){e.addEventListener(t,o,!1)}:o.attachEvent&&(a=function(e,o,a){e[o+a]=a.handleEvent?function(){var o=t(e);a.handleEvent.call(a,o)}:function(){var o=t(e);a.call(e,o)},e.attachEvent("on"+o,e[o+a])});var i=function(){};o.removeEventListener?i=function(e,t,o){e.removeEventListener(t,o,!1)}:o.detachEvent&&(i=function(e,t,o){e.detachEvent("on"+t,e[t+o]);try{delete e[t+o]}catch(a){e[t+o]=void 0}});var n={bind:a,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",n):"object"==typeof exports?module.exports=n:e.eventie=n}(this),function(e){function t(e){"function"==typeof e&&(t.isReady?e():n.push(e))}function o(e){var o="readystatechange"===e.type&&"complete"!==i.readyState;if(!t.isReady&&!o){t.isReady=!0;for(var a=0,s=n.length;s>a;a++){var r=n[a];r()}}}function a(a){return a.bind(i,"DOMContentLoaded",o),a.bind(i,"readystatechange",o),a.bind(e,"load",o),t}var i=e.document,n=[];t.isReady=!1,"function"==typeof define&&define.amd?(t.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],a)):e.docReady=a(e.eventie)}(this),function(){function e(){}function t(e,t){for(var o=e.length;o--;)if(e[o].listener===t)return o;return-1}function o(e){return function(){return this[e].apply(this,arguments)}}var a=e.prototype,i=this,n=i.EventEmitter;a.getListeners=function(e){var t,o,a=this._getEvents();if(e instanceof RegExp){t={};for(o in a)a.hasOwnProperty(o)&&e.test(o)&&(t[o]=a[o])}else t=a[e]||(a[e]=[]);return t},a.flattenListeners=function(e){var t,o=[];for(t=0;e.length>t;t+=1)o.push(e[t].listener);return o},a.getListenersAsObject=function(e){var t,o=this.getListeners(e);return o instanceof Array&&(t={},t[e]=o),t||o},a.addListener=function(e,o){var a,i=this.getListenersAsObject(e),n="object"==typeof o;for(a in i)i.hasOwnProperty(a)&&-1===t(i[a],o)&&i[a].push(n?o:{listener:o,once:!1});return this},a.on=o("addListener"),a.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},a.once=o("addOnceListener"),a.defineEvent=function(e){return this.getListeners(e),this},a.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},a.removeListener=function(e,o){var a,i,n=this.getListenersAsObject(e);for(i in n)n.hasOwnProperty(i)&&(a=t(n[i],o),-1!==a&&n[i].splice(a,1));return this},a.off=o("removeListener"),a.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},a.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},a.manipulateListeners=function(e,t,o){var a,i,n=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(a=o.length;a--;)n.call(this,t,o[a]);else for(a in t)t.hasOwnProperty(a)&&(i=t[a])&&("function"==typeof i?n.call(this,a,i):s.call(this,a,i));return this},a.removeEvent=function(e){var t,o=typeof e,a=this._getEvents();if("string"===o)delete a[e];else if(e instanceof RegExp)for(t in a)a.hasOwnProperty(t)&&e.test(t)&&delete a[t];else delete this._events;return this},a.removeAllListeners=o("removeEvent"),a.emitEvent=function(e,t){var o,a,i,n,s=this.getListenersAsObject(e);for(i in s)if(s.hasOwnProperty(i))for(a=s[i].length;a--;)o=s[i][a],o.once===!0&&this.removeListener(e,o.listener),n=o.listener.apply(this,t||[]),n===this._getOnceReturnValue()&&this.removeListener(e,o.listener);return this},a.trigger=o("emitEvent"),a.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},a.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},a._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=n,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof a[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,i=0,n=o.length;n>i;i++)if(t=o[i]+e,"string"==typeof a[t])return t}}var o="Webkit Moz ms Ms O".split(" "),a=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e),o=-1===e.indexOf("%")&&!isNaN(t);return o&&t}function o(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,o=s.length;o>t;t++){var a=s[t];e[a]=0}return e}function a(e){function a(e){if("string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var a=n(e);if("none"===a.display)return o();var i={};i.width=e.offsetWidth,i.height=e.offsetHeight;for(var l=i.isBorderBox=!(!d||!a[d]||"border-box"!==a[d]),p=0,h=s.length;h>p;p++){var u=s[p],f=a[u];f=r(e,f);var g=parseFloat(f);i[u]=isNaN(g)?0:g}var v=i.paddingLeft+i.paddingRight,m=i.paddingTop+i.paddingBottom,C=i.marginLeft+i.marginRight,b=i.marginTop+i.marginBottom,x=i.borderLeftWidth+i.borderRightWidth,$=i.borderTopWidth+i.borderBottomWidth,k=l&&c,y=t(a.width);y!==!1&&(i.width=y+(k?0:v+x));var w=t(a.height);return w!==!1&&(i.height=w+(k?0:m+$)),i.innerWidth=i.width-(v+x),i.innerHeight=i.height-(m+$),i.outerWidth=i.width+C,i.outerHeight=i.height+b,i}}function r(e,t){if(i||-1===t.indexOf("%"))return t;var o=e.style,a=o.left,n=e.runtimeStyle,s=n&&n.left;return s&&(n.left=e.currentStyle.left),o.left=t,t=o.pixelLeft,o.left=a,s&&(n.left=s),t}var c,d=e("boxSizing");return function(){if(d){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[d]="border-box";var o=document.body||document.documentElement;o.appendChild(e);var a=n(e);c=200===t(a.width),o.removeChild(e)}}(),a}var i=e.getComputedStyle,n=i?function(e){return i(e,null)}:function(e){return e.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],a):"object"==typeof exports?module.exports=a(require("get-style-property")):e.getSize=a(e.getStyleProperty)}(window),function(e,t){function o(e,t){return e[r](t)}function a(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function i(e,t){a(e);for(var o=e.parentNode.querySelectorAll(t),i=0,n=o.length;n>i;i++)if(o[i]===e)return!0;return!1}function n(e,t){return a(e),o(e,t)}var s,r=function(){if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],o=0,a=e.length;a>o;o++){var i=e[o],n=i+"MatchesSelector";if(t[n])return n}}();if(r){var c=document.createElement("div"),d=o(c,"div");s=d?o:n}else s=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):window.matchesSelector=s}(this,Element.prototype),function(e){function t(e,t){for(var o in t)e[o]=t[o];return e}function o(e){for(var t in e)return!1;return t=null,!0}function a(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function i(e,i,n){function r(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var c=n("transition"),d=n("transform"),l=c&&d,p=!!n("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[c],u=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var e={},t=0,o=u.length;o>t;t++){var a=u[t],i=n(a);i&&i!==a&&(e[a]=i)}return e}();t(r.prototype,e.prototype),r.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.getSize=function(){this.size=i(this.element)},r.prototype.css=function(e){var t=this.element.style;for(var o in e){var a=f[o]||o;t[a]=e[o]}},r.prototype.getPosition=function(){var e=s(this.element),t=this.layout.options,o=t.isOriginLeft,a=t.isOriginTop,i=parseInt(e[o?"left":"right"],10),n=parseInt(e[a?"top":"bottom"],10);i=isNaN(i)?0:i,n=isNaN(n)?0:n;var r=this.layout.size;i-=o?r.paddingLeft:r.paddingRight,n-=a?r.paddingTop:r.paddingBottom,this.position.x=i,this.position.y=n},r.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,o={};t.isOriginLeft?(o.left=this.position.x+e.paddingLeft+"px",o.right=""):(o.right=this.position.x+e.paddingRight+"px",o.left=""),t.isOriginTop?(o.top=this.position.y+e.paddingTop+"px",o.bottom=""):(o.bottom=this.position.y+e.paddingBottom+"px",o.top=""),this.css(o),this.emitEvent("layout",[this])};var g=p?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};r.prototype._transitionTo=function(e,t){this.getPosition();var o=this.position.x,a=this.position.y,i=parseInt(e,10),n=parseInt(t,10),s=i===this.position.x&&n===this.position.y;if(this.setPosition(e,t),s&&!this.isTransitioning)return this.layoutPosition(),void 0;var r=e-o,c=t-a,d={},l=this.layout.options;r=l.isOriginLeft?r:-r,c=l.isOriginTop?c:-c,d.transform=g(r,c),this.transition({to:d,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},r.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},r.prototype.moveTo=l?r.prototype._transitionTo:r.prototype.goTo,r.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},r.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},r.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(e),void 0;var t=this._transn;for(var o in e.onTransitionEnd)t.onEnd[o]=e.onTransitionEnd[o];for(o in e.to)t.ingProperties[o]=!0,e.isCleaning&&(t.clean[o]=!0);if(e.from){this.css(e.from);var a=this.element.offsetHeight;a=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var v=d&&a(d)+",opacity";r.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(h,this,!1))},r.prototype.transition=r.prototype[c?"_transition":"_nonTransition"],r.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},r.prototype.onotransitionend=function(e){this.ontransitionend(e)};var m={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};r.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,a=m[e.propertyName]||e.propertyName;if(delete t.ingProperties[a],o(t.ingProperties)&&this.disableTransition(),a in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[a]),a in t.onEnd){var i=t.onEnd[a];i.call(this),delete t.onEnd[a]}this.emitEvent("transitionEnd",[this])}},r.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},r.prototype._removeStyles=function(e){var t={};for(var o in e)t[o]="";this.css(t)};var C={transitionProperty:"",transitionDuration:""};return r.prototype.removeTransitionStyles=function(){this.css(C)},r.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},r.prototype.remove=function(){if(!c||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var e=this;this.on("transitionEnd",function(){return e.removeElem(),!0}),this.hide()},r.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0})},r.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},r.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},r}var n=e.getComputedStyle,s=n?function(e){return n(e,null)}:function(e){return e.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],i):(e.Outlayer={},e.Outlayer.Item=i(e.EventEmitter,e.getSize,e.getStyleProperty))}(window),function(e){function t(e,t){for(var o in t)e[o]=t[o];return e}function o(e){return"[object Array]"===p.call(e)}function a(e){var t=[];if(o(e))t=e;else if(e&&"number"==typeof e.length)for(var a=0,i=e.length;i>a;a++)t.push(e[a]);else t.push(e);return t}function i(e,t){var o=u(t,e);-1!==o&&t.splice(o,1)}function n(e){return e.replace(/(.)([A-Z])/g,function(e,t,o){return t+"-"+o}).toLowerCase()}function s(o,s,p,u,f,g){function v(e,o){if("string"==typeof e&&(e=r.querySelector(e)),!e||!h(e))return c&&c.error("Bad "+this.constructor.namespace+" element: "+e),void 0;this.element=e,this.options=t({},this.constructor.defaults),this.option(o);var a=++m;this.element.outlayerGUID=a,C[a]=this,this._create(),this.options.isInitLayout&&this.layout()}var m=0,C={};return v.namespace="outlayer",v.Item=g,v.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},t(v.prototype,p.prototype),v.prototype.option=function(e){t(this.options,e)},v.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),t(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},v.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},v.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),o=this.constructor.Item,a=[],i=0,n=t.length;n>i;i++){var s=t[i],r=new o(s,this);a.push(r)}return a},v.prototype._filterFindItemElements=function(e){e=a(e);for(var t=this.options.itemSelector,o=[],i=0,n=e.length;n>i;i++){var s=e[i];if(h(s))if(t){f(s,t)&&o.push(s);for(var r=s.querySelectorAll(t),c=0,d=r.length;d>c;c++)o.push(r[c])}else o.push(s)}return o},v.prototype.getItemElements=function(){for(var e=[],t=0,o=this.items.length;o>t;t++)e.push(this.items[t].element);return e},v.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},v.prototype._init=v.prototype.layout,v.prototype._resetLayout=function(){this.getSize()},v.prototype.getSize=function(){this.size=u(this.element)},v.prototype._getMeasurement=function(e,t){var o,a=this.options[e];a?("string"==typeof a?o=this.element.querySelector(a):h(a)&&(o=a),this[e]=o?u(o)[t]:a):this[e]=0},v.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},v.prototype._getItemsForLayout=function(e){for(var t=[],o=0,a=e.length;a>o;o++){var i=e[o];i.isIgnored||t.push(i)}return t},v.prototype._layoutItems=function(e,t){function o(){a.emitEvent("layoutComplete",[a,e])}var a=this;if(!e||!e.length)return o(),void 0;this._itemsOn(e,"layout",o);for(var i=[],n=0,s=e.length;s>n;n++){var r=e[n],c=this._getItemLayoutPosition(r);c.item=r,c.isInstant=t||r.isLayoutInstant,i.push(c)}this._processLayoutQueue(i)},v.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},v.prototype._processLayoutQueue=function(e){for(var t=0,o=e.length;o>t;t++){var a=e[t];this._positionItem(a.item,a.x,a.y,a.isInstant)}},v.prototype._positionItem=function(e,t,o,a){a?e.goTo(t,o):e.moveTo(t,o)},v.prototype._postLayout=function(){this.resizeContainer()},v.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},v.prototype._getContainerSize=l,v.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var o=this.size;o.isBorderBox&&(e+=t?o.paddingLeft+o.paddingRight+o.borderLeftWidth+o.borderRightWidth:o.paddingBottom+o.paddingTop+o.borderTopWidth+o.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},v.prototype._itemsOn=function(e,t,o){function a(){return i++,i===n&&o.call(s),!0}for(var i=0,n=e.length,s=this,r=0,c=e.length;c>r;r++){var d=e[r];d.on(t,a)}},v.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},v.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},v.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,o=e.length;o>t;t++){var a=e[t];this.ignore(a)}}},v.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,o=e.length;o>t;t++){var a=e[t];i(a,this.stamps),this.unignore(a)}},v.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=a(e)):void 0},v.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var o=this.stamps[e];this._manageStamp(o)}}},v.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},v.prototype._manageStamp=l,v.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),o=this._boundingRect,a=u(e),i={left:t.left-o.left-a.marginLeft,top:t.top-o.top-a.marginTop,right:o.right-t.right-a.marginRight,bottom:o.bottom-t.bottom-a.marginBottom};return i},v.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},v.prototype.bindResize=function(){this.isResizeBound||(o.bind(e,"resize",this),this.isResizeBound=!0)},v.prototype.unbindResize=function(){this.isResizeBound&&o.unbind(e,"resize",this),this.isResizeBound=!1},v.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},v.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},v.prototype.needsResizeLayout=function(){var e=u(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},v.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},v.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},v.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var o=this.items.slice(0);this.items=t.concat(o),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(o)}},v.prototype.reveal=function(e){var t=e&&e.length;if(t)for(var o=0;t>o;o++){var a=e[o];a.reveal()}},v.prototype.hide=function(e){var t=e&&e.length;if(t)for(var o=0;t>o;o++){var a=e[o];a.hide()}},v.prototype.getItem=function(e){for(var t=0,o=this.items.length;o>t;t++){var a=this.items[t];if(a.element===e)return a}},v.prototype.getItems=function(e){if(e&&e.length){for(var t=[],o=0,a=e.length;a>o;o++){var i=e[o],n=this.getItem(i);n&&t.push(n)}return t}},v.prototype.remove=function(e){e=a(e);var t=this.getItems(e);if(t&&t.length){this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var o=0,n=t.length;n>o;o++){var s=t[o];s.remove(),i(s,this.items)}}},v.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,o=this.items.length;o>t;t++){var a=this.items[t];a.destroy()}this.unbindResize(),delete this.element.outlayerGUID,d&&d.removeData(this.element,this.constructor.namespace)},v.data=function(e){var t=e&&e.outlayerGUID;return t&&C[t]},v.create=function(e,o){function a(){v.apply(this,arguments)}return Object.create?a.prototype=Object.create(v.prototype):t(a.prototype,v.prototype),a.prototype.constructor=a,a.defaults=t({},v.defaults),t(a.defaults,o),a.prototype.settings={},a.namespace=e,a.data=v.data,a.Item=function(){g.apply(this,arguments)},a.Item.prototype=new g,s(function(){for(var t=n(e),o=r.querySelectorAll(".js-"+t),i="data-"+t+"-options",s=0,l=o.length;l>s;s++){var p,h=o[s],u=h.getAttribute(i);try{p=u&&JSON.parse(u)}catch(f){c&&c.error("Error parsing "+i+" on "+h.nodeName.toLowerCase()+(h.id?"#"+h.id:"")+": "+f);continue}var g=new a(h,p);d&&d.data(h,e,g)}}),d&&d.bridget&&d.bridget(e,a),a},v.Item=g,v}var r=e.document,c=e.console,d=e.jQuery,l=function(){},p=Object.prototype.toString,h="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},u=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var o=0,a=e.length;a>o;o++)if(e[o]===t)return o;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):e.Outlayer=s(e.eventie,e.docReady,e.EventEmitter,e.getSize,e.matchesSelector,e.Outlayer.Item)}(window),function(e){function t(e){function t(){e.Item.apply(this,arguments)}return t.prototype=new e.Item,t.prototype._create=function(){this.id=this.layout.itemGUID++,e.Item.prototype._create.call(this),this.sortData={}},t.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var e=this.layout.options.getSortData,t=this.layout._sorters;for(var o in e){var a=t[o];this.sortData[o]=a(this.element,this)}}},t}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],t):(e.Isotope=e.Isotope||{},e.Isotope.Item=t(e.Outlayer))}(window),function(e){function t(e,t){function o(e){this.isotope=e,e&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}return function(){function e(e){return function(){return t.prototype[e].apply(this.isotope,arguments)}}for(var a=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],i=0,n=a.length;n>i;i++){var s=a[i];o.prototype[s]=e(s)}}(),o.prototype.needsVerticalResizeLayout=function(){var t=e(this.isotope.element),o=this.isotope.size&&t;return o&&t.innerHeight!==this.isotope.size.innerHeight},o.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},o.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},o.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},o.prototype.getSegmentSize=function(e,t){var o=e+t,a="outer"+t;if(this._getMeasurement(o,a),!this[o]){var i=this.getFirstItemSize();this[o]=i&&i[a]||this.isotope.size["inner"+t]}},o.prototype.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},o.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},o.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},o.modes={},o.create=function(e,t){function a(){o.apply(this,arguments)}return a.prototype=new o,t&&(a.options=t),a.prototype.namespace=e,o.modes[e]=a,a},o}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=t(e.getSize,e.Outlayer))}(window),function(e){function t(e,t){var a=e.create("masonry");return a.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},a.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],o=e&&e.element;this.columnWidth=o&&t(o).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},a.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,o=t(e);this.containerWidth=o&&o.innerWidth},a.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,a=t&&1>t?"round":"ceil",i=Math[a](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var n=this._getColGroup(i),s=Math.min.apply(Math,n),r=o(n,s),c={x:this.columnWidth*r,y:s},d=s+e.size.outerHeight,l=this.cols+1-n.length,p=0;l>p;p++)this.colYs[r+p]=d;return c},a.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],o=this.cols+1-e,a=0;o>a;a++){var i=this.colYs.slice(a,a+e);t[a]=Math.max.apply(Math,i)}return t},a.prototype._manageStamp=function(e){var o=t(e),a=this._getElementOffset(e),i=this.options.isOriginLeft?a.left:a.right,n=i+o.outerWidth,s=Math.floor(i/this.columnWidth);s=Math.max(0,s);var r=Math.floor(n/this.columnWidth);r-=n%this.columnWidth?0:1,r=Math.min(this.cols-1,r);for(var c=(this.options.isOriginTop?a.top:a.bottom)+o.outerHeight,d=s;r>=d;d++)this.colYs[d]=Math.max(c,this.colYs[d])},a.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},a.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},a.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},a}var o=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var o=0,a=e.length;a>o;o++){var i=e[o];if(i===t)return o}return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],t):e.Masonry=t(e.Outlayer,e.getSize)}(window),function(e){function t(e,t){for(var o in t)e[o]=t[o];return e}function o(e,o){var a=e.create("masonry"),i=a.prototype._getElementOffset,n=a.prototype.layout,s=a.prototype._getMeasurement;t(a.prototype,o.prototype),a.prototype._getElementOffset=i,a.prototype.layout=n,a.prototype._getMeasurement=s;var r=a.prototype.measureColumns;a.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,r.call(this)};var c=a.prototype._manageStamp;
return a.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,c.apply(this,arguments)},a}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],o):o(e.Isotope.LayoutMode,e.Masonry)}(window),function(e){function t(e){var t=e.create("fitRows");return t.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0},t.prototype._getItemLayoutPosition=function(e){e.getSize(),0!==this.x&&e.size.outerWidth+this.x>this.isotope.size.innerWidth&&(this.x=0,this.y=this.maxY);var t={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight),this.x+=e.size.outerWidth,t},t.prototype._getContainerSize=function(){return{height:this.maxY}},t}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],t):t(e.Isotope.LayoutMode)}(window),function(e){function t(e){var t=e.create("vertical",{horizontalAlignment:0});return t.prototype._resetLayout=function(){this.y=0},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotope.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment,o=this.y;return this.y+=e.size.outerHeight,{x:t,y:o}},t.prototype._getContainerSize=function(){return{height:this.y}},t}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],t):t(e.Isotope.LayoutMode)}(window),function(e){function t(e,t){for(var o in t)e[o]=t[o];return e}function o(e){return"[object Array]"===l.call(e)}function a(e){var t=[];if(o(e))t=e;else if(e&&"number"==typeof e.length)for(var a=0,i=e.length;i>a;a++)t.push(e[a]);else t.push(e);return t}function i(e,t){var o=p(t,e);-1!==o&&t.splice(o,1)}function n(e,o,n,c,l){function p(e,t){return function(o,a){for(var i=0,n=e.length;n>i;i++){var s=e[i],r=o.sortData[s],c=a.sortData[s];if(r>c||c>r){var d=void 0!==t[s]?t[s]:t,l=d?1:-1;return(r>c?1:-1)*l}}return 0}}var h=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});h.Item=c,h.LayoutMode=l,h.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in l.modes)this._initLayoutMode(t)},h.prototype.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},h.prototype._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),o=0,a=t.length;a>o;o++){var i=t[o];i.id=this.itemGUID++}return this._updateItemsSortData(t),t},h.prototype._initLayoutMode=function(e){var o=l.modes[e],a=this.options[e]||{};this.options[e]=o.options?t(o.options,a):a,this.modes[e]=new o(this)},h.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?(this.arrange(),void 0):(this._layout(),void 0)},h.prototype._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},h.prototype.arrange=function(e){this.option(e),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},h.prototype._init=h.prototype.arrange,h.prototype._getIsInstant=function(){var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=e,e},h.prototype._filter=function(e){function t(){p.reveal(i),p.hide(n)}var o=this.options.filter;o=o||"*";for(var a=[],i=[],n=[],s=this._getFilterTest(o),r=0,c=e.length;c>r;r++){var d=e[r];if(!d.isIgnored){var l=s(d);l&&a.push(d),l&&d.isHidden?i.push(d):l||d.isHidden||n.push(d)}}var p=this;return this._isInstant?this._noTransition(t):t(),a},h.prototype._getFilterTest=function(e){return s&&this.options.isJQueryFiltering?function(t){return s(t.element).is(e)}:"function"==typeof e?function(t){return e(t.element)}:function(t){return n(t.element,e)}},h.prototype.updateSortData=function(e){this._getSorters(),e=a(e);var t=this.getItems(e);t=t.length?t:this.items,this._updateItemsSortData(t)},h.prototype._getSorters=function(){var e=this.options.getSortData;for(var t in e){var o=e[t];this._sorters[t]=u(o)}},h.prototype._updateItemsSortData=function(e){for(var t=0,o=e.length;o>t;t++){var a=e[t];a.updateSortData()}};var u=function(){function e(e){if("string"!=typeof e)return e;var o=r(e).split(" "),a=o[0],i=a.match(/^\[(.+)\]$/),n=i&&i[1],s=t(n,a),c=h.sortDataParsers[o[1]];return e=c?function(e){return e&&c(s(e))}:function(e){return e&&s(e)}}function t(e,t){var o;return o=e?function(t){return t.getAttribute(e)}:function(e){var o=e.querySelector(t);return o&&d(o)}}return e}();h.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},h.prototype._sort=function(){var e=this.options.sortBy;if(e){var t=[].concat.apply(e,this.sortHistory),o=p(t,this.options.sortAscending);this.filteredItems.sort(o),e!==this.sortHistory[0]&&this.sortHistory.unshift(e)}},h.prototype._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw Error("No layout mode: "+e);return t.options=this.options[e],t},h.prototype._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},h.prototype._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},h.prototype._manageStamp=function(e){this._mode()._manageStamp(e)},h.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},h.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},h.prototype.appended=function(e){var t=this.addItems(e);if(t.length){var o=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(o)}},h.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var o=this.items.slice(0);this.items=t.concat(o),this._resetLayout(),this._manageStamps();var a=this._filterRevealAdded(t);this.layoutItems(o),this.filteredItems=a.concat(this.filteredItems)}},h.prototype._filterRevealAdded=function(e){var t=this._noTransition(function(){return this._filter(e)});return this.layoutItems(t,!0),this.reveal(t),e},h.prototype.insert=function(e){var t=this.addItems(e);if(t.length){var o,a,i=t.length;for(o=0;i>o;o++)a=t[o],this.element.appendChild(a.element);var n=this._filter(t);for(this._noTransition(function(){this.hide(n)}),o=0;i>o;o++)t[o].isLayoutInstant=!0;for(this.arrange(),o=0;i>o;o++)delete t[o].isLayoutInstant;this.reveal(n)}};var f=h.prototype.remove;return h.prototype.remove=function(e){e=a(e);var t=this.getItems(e);if(f.call(this,e),t&&t.length)for(var o=0,n=t.length;n>o;o++){var s=t[o];i(s,this.filteredItems)}},h.prototype._noTransition=function(e){var t=this.options.transitionDuration;this.options.transitionDuration=0;var o=e.call(this);return this.options.transitionDuration=t,o},h}var s=e.jQuery,r=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},c=document.documentElement,d=c.textContent?function(e){return e.textContent}:function(e){return e.innerText},l=Object.prototype.toString,p=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var o=0,a=e.length;a>o;o++)if(e[o]===t)return o;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],n):e.Isotope=n(e.Outlayer,e.getSize,e.matchesSelector,e.Isotope.Item,e.Isotope.LayoutMode)}(window),function(e){function t(){var t,o,a={height:d.innerHeight,width:d.innerWidth};return a.height||(t=c.compatMode,(t||!e.support.boxModel)&&(o="CSS1Compat"===t?l:c.body,a={height:o.clientHeight,width:o.clientWidth})),a}function o(){return{top:d.pageYOffset||l.scrollTop||c.body.scrollTop,left:d.pageXOffset||l.scrollLeft||c.body.scrollLeft}}function a(){var a,s=e(),c=0;if(e.each(r,function(e,t){var o=t.data.selector,a=t.$element;s=s.add(o?a.find(o):a)}),a=s.length)for(i=i||t(),n=n||o();a>c;c++)if(e.contains(l,s[c])){var d,p,h,u=e(s[c]),f={height:u.height(),width:u.width()},g=u.offset(),v=u.data("inview");if(!n||!i)return;g.top+f.height>n.top&&g.top<n.top+i.height&&g.left+f.width>n.left&&g.left<n.left+i.width?(d=n.left>g.left?"right":n.left+i.width<g.left+f.width?"left":"both",p=n.top>g.top?"bottom":n.top+i.height<g.top+f.height?"top":"both",h=d+"-"+p,v&&v===h||u.data("inview",h).trigger("inview",[!0,d,p])):v&&u.data("inview",!1).trigger("inview",[!1])}}var i,n,s,r={},c=document,d=window,l=c.documentElement,p=e.expando;e.event.special.inview={add:function(t){r[t.guid+"-"+this[p]]={data:t,$element:e(this)},s||e.isEmptyObject(r)||(s=setInterval(a,250))},remove:function(t){try{delete r[t.guid+"-"+this[p]]}catch(o){}e.isEmptyObject(r)&&(clearInterval(s),s=null)}},e(d).bind("scroll resize",function(){i=n=null}),!l.addEventListener&&l.attachEvent&&l.attachEvent("onfocusin",function(){n=null})}(jQuery),!function(e,t,o){"use strict";function a(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t}var i=function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]="object"==typeof t[o]?i(e[o],t[o]):t[o]);return e},n=function(e,t){var o,a,i,n=Date.now||function(){return(new Date).getTime()},s=null,r=0,c=function(){r=n(),s=null,i=e.apply(o,a),o=a=null};return function(){var d=n(),l=t-(d-r);return o=this,a=arguments,0>=l?(clearTimeout(s),s=null,r=d,i=e.apply(o,a),o=a=null):s||(s=setTimeout(c,l)),i}},s=function(){return e.pageYOffset!==o?e.pageYOffset:(t.documentElement||t.body.parentNode||t.body).scrollTop},r=function(o,a){"querySelector"in t&&"addEventListener"in e&&(this.visible=!1,this.options={offset:300,classes:{base:"headhesive",stick:"headhesive--stick",unstick:"headhesive--unstick"},throttle:250,onInit:function(){},onStick:function(){},onUnstick:function(){},onDestroy:function(){}},this.elem="string"==typeof o?t.querySelector(o):o,this.options=i(this.options,a),this.init())};r.prototype={constructor:r,init:function(){if(this.clonedElem=this.elem.cloneNode(!0),this.clonedElem.className+=" "+this.options.classes.clone,t.body.insertBefore(this.clonedElem,t.body.firstChild),"number"==typeof this.options.offset)this.scrollOffset=this.options.offset;else{if("string"!=typeof this.options.offset)throw new Error("Invalid offset: "+this.options.offset);this.scrollOffset=a(t.querySelector(this.options.offset))}this._throttleUpdate=n(this.update.bind(this),this.options.throttle),e.addEventListener("scroll",this._throttleUpdate,!1),this.options.onInit.call(this)},destroy:function(){t.body.removeChild(this.clonedElem),e.removeEventListener("scroll",this._throttleUpdate),this.options.onDestroy.call(this)},stick:function(){this.visible||(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.unstick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.stick,this.visible=!0,this.options.onStick.call(this))},unstick:function(){this.visible&&(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.stick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.unstick,this.visible=!1,this.options.onUnstick.call(this))},update:function(){s()>this.scrollOffset?this.stick():this.unstick()}},e.Headhesive=r}(window,document);